"use strict";(self.webpackChunksource_2_wiki=self.webpackChunksource_2_wiki||[]).push([[19198],{2118:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/main_gui-a5a1e9e403083b81563b3b8214091d89.jpg"},4509:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/opening_postprocessing_editor-b0367e33808db2f09b4a4acba732ce3a.jpg"},6138:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/create_postprocessing_editor_2-efa9d34a48d9f5f2674dcbca7f6bffc4.jpg"},21720:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/exposure_control-a1229ddf270bb48ae0dcad5aba2cc228.jpg"},28453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>l});var i=t(96540);const o={},n=i.createContext(o);function r(e){const s=i.useContext(n);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(n.Provider,{value:s},e.children)}},31005:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/create_postprocessing_editor-2d4b57d4108a3a857bb752f52396a602.jpg"},76355:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/opening_postprocessing_editor2-770da7fda19fbcd88faef6f3ee7f347f.jpg"},81198:(e,s,t)=>{t.d(s,{A:()=>i});const i=t.p+"assets/images/master_volume-852413a71808628c8449034506f71f5d.jpg"},84146:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"EngineTools/PostProcessingEditor/postprocessing-editor-guide","title":"Post Processing Editor Guide","description":"Description of the post processing editor.","source":"@site/docs/EngineTools/PostProcessingEditor/postprocessing-editor-guide.mdx","sourceDirName":"EngineTools/PostProcessingEditor","slug":"/EngineTools/PostProcessingEditor/postprocessing-editor-guide","permalink":"/EngineTools/PostProcessingEditor/postprocessing-editor-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/Source2Wiki/Source2Wiki/blob/master/docs/EngineTools/PostProcessingEditor/postprocessing-editor-guide.mdx?plain=1","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"description":"Description of the post processing editor.","title":"Post Processing Editor Guide","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Post Processing Editor","permalink":"/EngineTools/PostProcessingEditor/"},"next":{"title":"Post Processing Effects","permalink":"/EngineTools/PostProcessingEditor/effects"}}');var o=t(74848),n=t(28453);const r={description:"Description of the post processing editor.",title:"Post Processing Editor Guide",sidebar_position:1},l="Post Processing Editor Guide",a={},c=[{value:"Opening the Post Processing Editor",id:"opening-the-post-processing-editor",level:2},{value:"User Interface",id:"user-interface",level:2},{value:"1 - Top Tool Bar",id:"1---top-tool-bar",level:3},{value:"2 - Preview Setup + Global Preview",id:"2---preview-setup--global-preview",level:3},{value:"3 - Viewport",id:"3---viewport",level:3},{value:"4 - Layer Settings",id:"4---layer-settings",level:3},{value:"5 - Postprocessing Layers",id:"5---postprocessing-layers",level:3},{value:"What this means",id:"what-this-means",level:3},{value:"Why Tone Mapping + Bloom aren\u2019t baked",id:"why-tone-mapping--bloom-arent-baked",level:3},{value:"Why you can&#39;t recover all settings after compile",id:"why-you-cant-recover-all-settings-after-compile",level:3},{value:"Post Processing Volumes",id:"post-processing-volumes",level:2},{value:"Master Volume",id:"master-volume",level:3},{value:"Other Settings",id:"other-settings",level:3},{value:"Exposure Control",id:"exposure-control",level:4}];function d(e){const s={admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"post-processing-editor-guide",children:"Post Processing Editor Guide"})}),"\n",(0,o.jsx)(s.p,{children:"This guide will go over the various functions and UI of the Post Processing Editor and explain how to create post processing effects."}),"\n",(0,o.jsx)(s.h2,{id:"opening-the-post-processing-editor",children:"Opening the Post Processing Editor"}),"\n",(0,o.jsxs)(s.p,{children:["You can open the Post Processing Editor from the ",(0,o.jsx)(s.strong,{children:"Tools"})," dropdown at the top right of the Asset Browser (and from any Engine Tool). It is the only entry under ",(0,o.jsx)(s.strong,{children:"Other Tools"}),"."]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"how to open the post processing editor",src:t(4509).A+"",width:"546",height:"494"})}),"\n",(0,o.jsx)(s.p,{children:"You can also open the Post Processing Editor from the Asset Browser top row."}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"how to open the post processing editor",src:t(76355).A+"",width:"457",height:"232"})}),"\n",(0,o.jsx)(s.h2,{id:"user-interface",children:"User Interface"}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"post processing editor main gui",src:t(2118).A+"",width:"1726",height:"1007"})}),"\n",(0,o.jsx)(s.p,{children:"Using the image above as a legend, the UI is composed of the following:"}),"\n",(0,o.jsx)(s.h3,{id:"1---top-tool-bar",children:"1 - Top Tool Bar"}),"\n",(0,o.jsx)(s.p,{children:"Here you can find the standard menus and actions available in most tools."}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["File",(0,o.jsx)(s.br,{}),"\n","Open/save ",(0,o.jsx)(s.code,{children:".vpost"})," files, and access recently opened files."]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["Edit",(0,o.jsx)(s.br,{}),"\n","Standard actions like undo/redo."]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["View / Window",(0,o.jsx)(s.br,{}),"\n","Show/hide panels and reset layouts."]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["Help",(0,o.jsx)(s.br,{}),"\n","Tool/build info and general help."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"2---preview-setup--global-preview",children:"2 - Preview Setup + Global Preview"}),"\n",(0,o.jsx)(s.p,{children:"This row controls how the effect is previewed. Global Preview is the important setting. If it\u2019s off, the post processing is only shown inside the Post Processing Editor (in the Viewport). If it\u2019s on, the post processing is shown in all the other windows as well \u2014 including inside CS2 and the GPU Path Tracing Preview in Hammer. This lets you live-edit and see changes immediately while running your map. You do not have to compile it every time to edit the post processing! The scene/model fields are used for the display in the viewport."}),"\n",(0,o.jsx)(s.h3,{id:"3---viewport",children:"3 - Viewport"}),"\n",(0,o.jsx)(s.p,{children:"This is the live preview. It has its own viewport controls in the top right, including a maximize/fullscreen option. You\u2019ll also find render options there (for example toggling skybox, grid, shadows) and ToolsVis modes for inspecting different buffers like Albedo, Roughness, Normal, Ambient Occlusion, etc."}),"\n",(0,o.jsx)(s.p,{children:"You can use the viewport to get started, but doing the actual tuning in-game with Global Preview enabled generally makes more sense, since post processing depends heavily on the real map lighting, materials, skybox, etc."}),"\n",(0,o.jsx)(s.p,{children:"You can have multiple viewports inside the post processing editor at the same time, by opening multiple post processing files at the same time. Global Preview follows the viewport currently in focus."}),"\n",(0,o.jsx)(s.h3,{id:"4---layer-settings",children:"4 - Layer Settings"}),"\n",(0,o.jsx)(s.p,{children:"Settings for the currently selected layer. This is where you actually tweak curves/sliders/values for whatever layer you clicked. The settings for each effect are explained in the effects page."}),"\n",(0,o.jsx)(s.h3,{id:"5---postprocessing-layers",children:"5 - Postprocessing Layers"}),"\n",(0,o.jsxs)(s.p,{children:["This is the layer stack for your ",(0,o.jsx)(s.code,{children:".vpost"}),"."]}),"\n",(0,o.jsx)(s.p,{children:"In general, layer order matters because layers are applied in stack order (bottom --\x3e top). Bottom layers are applied first, so swapping layers can change the final look."}),"\n",(0,o.jsxs)(s.p,{children:["Each layer can also have a mask; masked layers are marked with a small M in the list. Masks are explained in the effects page. Furthermore, each layer has a Layer Opacity, which decides how strongly the layer is applied. If the Opacity is ",(0,o.jsx)(s.code,{children:"100%"}),", the layer is applied at full strength."]}),"\n",(0,o.jsxs)(s.admonition,{title:"Runtime order + baking of effects",type:"warning",children:[(0,o.jsx)(s.p,{children:"Not all layers behave like \u201cnormal\u201d stack effects."}),(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"At runtime, Source 2 post processing runs in two phases:"})}),(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"Tone Mapping + Bloom"})}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"All other Effects"})}),"\n"]}),(0,o.jsx)(s.h3,{id:"what-this-means",children:"What this means"}),(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Tone Mapping and Bloom layer order doesn\u2019t matter. They are applied in the dedicated first phase."}),"\n",(0,o.jsx)(s.li,{children:"Only one Tone Mapping layer and one Bloom layer can have an effect."}),"\n",(0,o.jsx)(s.li,{children:"If you place multiple of either type, the lowest (bottom-most) one wins, and the others are ignored."}),"\n",(0,o.jsx)(s.li,{children:"The order for all other effects does matter and is applied after Tone Mapping + Bloom."}),"\n"]}),(0,o.jsx)(s.h3,{id:"why-tone-mapping--bloom-arent-baked",children:"Why Tone Mapping + Bloom aren\u2019t baked"}),(0,o.jsx)(s.p,{children:"Tone Mapping and Bloom depend on the current frame\u2019s brightness (highlights, exposure changes, sky brightness, etc.), so they can't be baked into a static LUT."}),(0,o.jsx)(s.h3,{id:"why-you-cant-recover-all-settings-after-compile",children:"Why you can't recover all settings after compile"}),(0,o.jsxs)(s.p,{children:["All other layers (Levels / Curves / Color Balance / Hue-Sat / etc.) are effectively baked into a single Color Lookup Table (explained in the Effects section) during build/compile.",(0,o.jsx)(s.br,{}),"\n","So after compilation you can only extract the resulting LUT, but you generally cannot reconstruct the original per-layer settings that produced it."]})]}),"\n",(0,o.jsx)(s.h2,{id:"post-processing-volumes",children:"Post Processing Volumes"}),"\n",(0,o.jsxs)(s.p,{children:["Post-processing settings are applied in-map using ",(0,o.jsx)(s.strong,{children:"volumes"}),". To create one, draw a mesh with the ",(0,o.jsx)(s.strong,{children:"Block Tool"})," and tie it to a ",(0,o.jsx)(s.code,{children:"post_processing_volume"})," entity. The post-processing settings are only applied ",(0,o.jsx)(s.strong,{children:"inside"})," the volume. This automatically assigns the ",(0,o.jsx)(s.code,{children:"tools_post_processing"})," material."]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"post processing volume creation",src:t(31005).A+"",width:"1305",height:"659"})}),"\n",(0,o.jsx)(s.p,{children:'In the dropdown select "post_processing_volume".'}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"post processing volume creation 2",src:t(6138).A+"",width:"1646",height:"651"})}),"\n",(0,o.jsx)(s.p,{children:"When volumes overlap, the most specific/inner volume takes priority. This allows for fine control for e.g outdoor vs indoor spaces."}),"\n",(0,o.jsx)(s.h3,{id:"master-volume",children:"Master Volume"}),"\n",(0,o.jsxs)(s.p,{children:["To apply post-processing to the entire level, create a post-processing volume and enable ",(0,o.jsx)(s.strong,{children:"Master"}),":"]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"master volume",src:t(81198).A+"",width:"427",height:"502"})}),"\n",(0,o.jsxs)(s.p,{children:['A master volume can be any shape or size, so many maps place a small cube and use it as a master volume. That way it works similarly to a "global"-affecting entity like the ',(0,o.jsx)(s.code,{children:"light_environment"}),"."]}),"\n",(0,o.jsx)(s.p,{children:"The master volume is active by default and remains in effect until the player enters another post-processing volume. When the player leaves that volume, the settings revert back to the master volume."}),"\n",(0,o.jsx)(s.p,{children:"If you don\u2019t set up a master volume, you can end up with inconsistent visuals (different areas looking unintentionally different)."}),"\n",(0,o.jsx)(s.h3,{id:"other-settings",children:"Other Settings"}),"\n",(0,o.jsx)(s.h4,{id:"exposure-control",children:"Exposure Control"}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"exposure control",src:t(21720).A+"",width:"414",height:"182"})}),"\n",(0,o.jsxs)(s.p,{children:["Controls ",(0,o.jsx)(s.strong,{children:"auto-exposure"})," (eye adaptation): the game automatically brightens or darkens the final image as you move between dark and bright areas."]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Settings:"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Min Exposure Brightness"}),": Lower clamp for auto-exposure. Prevents the image from getting darker than this value."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Max Exposure Brightness"}),": Upper clamp for auto-exposure. Prevents the image from getting brighter than this value.",(0,o.jsx)(s.br,{}),"\n","If ",(0,o.jsx)(s.strong,{children:"Min = Max"})," (e.g., both ",(0,o.jsx)(s.code,{children:"1.0"}),"), auto-exposure is effectively locked to a fixed exposure."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Use Exposure Settings"}),": Enables these exposure settings for the current post-processing volume."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Exposure Adjustment Speed Up"}),": How quickly exposure adapts when the scene gets brighter (camera \u201cdarkens\u201d to compensate). Higher values = faster adaptation."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Exposure Adjustment Speed Down"}),": How quickly exposure adapts when the scene gets darker (camera \u201cbrightens\u201d to compensate). Higher values = faster adaptation."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.strong,{children:"Transition Time"}),": Time (in seconds) used to blend from the previous volume\u2019s exposure settings to the new volume\u2019s settings. Lower values switch faster - higher values feel smoother."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);