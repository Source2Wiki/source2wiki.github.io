"use strict";(globalThis.webpackChunksource_2_wiki=globalThis.webpackChunksource_2_wiki||[]).push([[70473],{2919:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/vtexcompile-0ab8e7272e26f8069488d74e31e74426.png"},7252:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/met1-9bf205565597b8021243591d5a62f039.png"},9485:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/previewhammer-297c01d28f11b0d189c02077b7110daa.png"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var r=t(96540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},30379:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/assetbrowsersrch2-0c56662054b12640a25ec09b365a9aa9.png"},38339:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/hammercbmpfg1-56e2469361f47bdadfc4a7f7df3a1cf1.png"},42650:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/assetbrowsersrch-11e1797b1fc38a6cb864b0d744670d70.png"},44614:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"CommunityGuides/oldEnvCubemapFog/index","title":"Creating env_cubemap_fog in older Source2 Games.","description":"How to create an env_cubemap_fog in older Source 2 games.","source":"@site/docs/CommunityGuides/oldEnvCubemapFog/index.mdx","sourceDirName":"CommunityGuides/oldEnvCubemapFog","slug":"/CommunityGuides/oldEnvCubemapFog/","permalink":"/CommunityGuides/oldEnvCubemapFog/","draft":false,"unlisted":false,"editUrl":"https://github.com/Source2Wiki/Source2Wiki/blob/master/docs/CommunityGuides/oldEnvCubemapFog/index.mdx?plain=1","tags":[],"version":"current","frontMatter":{"description":"How to create an env_cubemap_fog in older Source 2 games.","title":"Creating env_cubemap_fog in older Source2 Games."},"sidebar":"tutorialSidebar","previous":{"title":"Comparisons in Our Ports","permalink":"/CommunityGuides/s2ze/PortingGuide/ExploitingS2/comparisons"},"next":{"title":"Creating and using overlays in SteamVR","permalink":"/CommunityGuides/overlaysInSteamVr/"}}');var s=t(74848),i=t(28453);const o={description:"How to create an env_cubemap_fog in older Source 2 games.",title:"Creating env_cubemap_fog in older Source2 Games."},a=void 0,c={},l=[{value:"Method 1",id:"method-1",level:2},{value:"Method 2",id:"method-2",level:2},{value:"Which method is better?",id:"which-method-is-better",level:2},{value:"Preview in <strong>Hammer</strong>",id:"preview-in-hammer",level:2}];function m(e){const n={admonition:"admonition",br:"br",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components},{Game:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Game",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["This guide explains how to create a functional ",(0,s.jsx)(n.strong,{children:"env_cubemap_fog"})," in older Source 2 games. This applies to ",(0,s.jsx)(r,{name:"hla"})," and ",(0,s.jsx)(r,{name:"steamvr"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["For ",(0,s.jsx)(r,{name:"steamvr"}),", Method 1 is the way to go, since ",(0,s.jsx)(n.strong,{children:"resourcecompiler"})," has a bug where ",(0,s.jsx)(n.strong,{children:".vtex"})," files, regardless of their settings, do not generate ",(0,s.jsx)(n.strong,{children:"mipmaps"}),", which are required for ",(0,s.jsx)(n.strong,{children:"env_cubemap_fog"})," to work properly."]})}),"\n",(0,s.jsx)(n.h2,{id:"method-1",children:"Method 1"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["If you change the texture in ",(0,s.jsx)(n.strong,{children:"MaterialEditor"}),", a new ",(0,s.jsx)(n.strong,{children:".vtex"})," file will be generated, so you will need to set the new ",(0,s.jsx)(n.strong,{children:".vtex"})," file again in the ",(0,s.jsx)(n.strong,{children:"env_cubemap_fog"})," entity in Hammer."]})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create your ",(0,s.jsx)(n.strong,{children:"2D skybox"})," in ",(0,s.jsx)(n.strong,{children:"MaterialEditor"}),".",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.img,{alt:"met1",src:t(7252).A+"",title:"met1",width:"2560",height:"1440"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Go to the ",(0,s.jsx)(n.strong,{children:"AssetBrowser"})," and search for your ",(0,s.jsx)(n.strong,{children:"2D skybox"})," material. ",(0,s.jsx)(n.strong,{children:"Right-click"}),", then ",(0,s.jsx)(n.strong,{children:"left-click"})," on ",(0,s.jsx)(n.strong,{children:"Asset Info"}),", then ",(0,s.jsx)(n.strong,{children:"left-click"})," on ",(0,s.jsx)(n.strong,{children:"Parent or Child assets"}),", and copy the asset name.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.img,{alt:"assetbrowsersrch",src:t(42650).A+"",title:"assetbrowsersrch",width:"600",height:"742"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.img,{alt:"assetbrowsersrch1",src:t(64976).A+"",title:"assetbrowsersrch1",width:"658",height:"895"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.img,{alt:"assetbrowsersrch2",src:t(30379).A+"",title:"assetbrowsersrch2",width:"1190",height:"710"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Finally, copy the compiled asset name into the ",(0,s.jsx)(n.strong,{children:"env_cubemap_fog"})," entity in Hammer.",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.img,{alt:"hammercbmpfg1",src:t(38339).A+"",title:"hammercbmpfg1",width:"1276",height:"843"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"method-2",children:"Method 2"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a ",(0,s.jsx)(n.strong,{children:".vtex"})," file and set the",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:'"m_fileName" "string" "name_of_your_texture"'}),(0,s.jsx)(n.br,{}),"\n","to the relative path of your ",(0,s.jsx)(n.strong,{children:"2D skybox texture"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Your ",(0,s.jsx)(n.code,{children:'"m_outputFormat" "string" "compression_format"'})," should always be ",(0,s.jsx)(n.code,{children:"BC7"})," (HDR block compression) or ",(0,s.jsx)(n.code,{children:"BC6H"})," (high\u2011quality RGB or RGBA block compression), since skyboxes are normally 16\u2011bit or 32\u2011bit images."]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'\x3c!-- dmx encoding keyvalues2_noids 1 format vtex 1 --\x3e\n"CDmeVtex"\n{\n    "m_inputTextureArray" "element_array" \n    [\n        "CDmeInputTexture"\n        {\n            "m_name" "string" "InputTexture0"\n            "m_fileName" "string" "materials/my_textures/my_texture.png"    // Replace this string\n            "m_colorSpace" "string" "srgb"\n            "m_typeString" "string" "2D"\n            "m_imageProcessorArray" "element_array" \n            [\n                "CDmeImageProcessor"\n                {\n                    "m_algorithm" "string" "None"\n                    "m_stringArg" "string" ""\n                    "m_vFloat4Arg" "vector4" "0 0 0 0"\n                }\n            ]\n        }\n    ]\n    "m_outputTypeString" "string" "2D"\n    "m_outputFormat" "string" "BC7"\n    "m_outputClearColor" "vector4" "0 0 0 0"\n    "m_nOutputMinDimension" "int" "0"\n    "m_nOutputMaxDimension" "int" "0"\n    "m_textureOutputChannelArray" "element_array" \n    [\n        "CDmeTextureOutputChannel"\n        {\n            "m_inputTextureArray" "string_array" [ "InputTexture0" ]\n            "m_srcChannels" "string" "rgba"\n            "m_dstChannels" "string" "rgba"\n            "m_mipAlgorithm" "CDmeImageProcessor"\n            {\n                "m_algorithm" "string" "Box"\n                "m_stringArg" "string" ""\n                "m_vFloat4Arg" "vector4" "0 0 0 0"\n            }\n            "m_outputColorSpace" "string" "srgb"\n        }\n    ]\n    "m_vClamp" "vector3" "0 0 0"\n    "m_bNoLod" "bool" "0"\n}\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Compile your material. This is done automatically. If not, go to the ",(0,s.jsx)(n.strong,{children:"Asset Browser"}),", search for your texture, ",(0,s.jsx)(n.strong,{children:"right\u2011click"}),", and select ",(0,s.jsx)(n.strong,{children:"Full Recompile"}),".",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.img,{alt:"vtexcompile",src:t(2919).A+"",title:"vtexcompile",width:"464",height:"649"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Finally, copy the compiled asset name into the ",(0,s.jsx)(n.strong,{children:"env_cubemap_fog"})," entity in Hammer."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"which-method-is-better",children:"Which method is better?"}),"\n",(0,s.jsxs)(n.p,{children:["It depends on your case. If your skybox has no modifications in ",(0,s.jsx)(n.strong,{children:"MaterialEditor"}),"\u2014such as brightness or exposure\u2014then ",(0,s.jsx)(n.strong,{children:"Method 2"})," is the better option, since it allows more control over the texture if you need to adjust lighting, resolution, etc."]}),"\n",(0,s.jsxs)(n.p,{children:["Usually, you won\u2019t need such tweaks, so ",(0,s.jsx)(n.strong,{children:"Method 1"})," is recommended, and it is also more efficient since you only need one texture."]}),"\n",(0,s.jsxs)(n.h2,{id:"preview-in-hammer",children:["Preview in ",(0,s.jsx)(n.strong,{children:"Hammer"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"previewhammer",src:t(9485).A+"",title:"previewhammer",width:"1594",height:"1298"})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},64976:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/assetbrowsersrch1-614830b3660256bc51d67286da43ff5b.png"}}]);