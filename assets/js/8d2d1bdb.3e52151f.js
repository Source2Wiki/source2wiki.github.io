"use strict";(globalThis.webpackChunksource_2_wiki=globalThis.webpackChunksource_2_wiki||[]).push([[49670],{28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>n});var l=i(96540);const a={},s=l.createContext(a);function o(e){const t=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function n(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),l.createElement(s.Provider,{value:t},e.children)}},53612:(e,t,i)=>{i.d(t,{A:()=>l});const l=i.p+"assets/images/lightmapplayerspaceerror-e7342f4d9ba4c44ba269645e4a8dd264.png"},54653:(e,t,i)=>{i.d(t,{A:()=>l});const l=i.p+"assets/images/resultExample-cbcdb90f23a601e915105e1edac4cb5a.gif"},71596:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>r,contentTitle:()=>n,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>p});const l=JSON.parse('{"id":"EngineTools/HammerEditor/Lighting/lightmapPlayerSpace/index","title":"Using Lightmap Player Space","description":"How to use lightmap player space volumes.","source":"@site/docs/EngineTools/HammerEditor/Lighting/lightmapPlayerSpace/index.mdx","sourceDirName":"EngineTools/HammerEditor/Lighting/lightmapPlayerSpace","slug":"/EngineTools/HammerEditor/Lighting/lightmapPlayerSpace/","permalink":"/EngineTools/HammerEditor/Lighting/lightmapPlayerSpace/","draft":false,"unlisted":false,"editUrl":"https://github.com/Source2Wiki/Source2Wiki/blob/master/docs/EngineTools/HammerEditor/Lighting/lightmapPlayerSpace/index.mdx?plain=1","tags":[],"version":"current","frontMatter":{"description":"How to use lightmap player space volumes.","title":"Using Lightmap Player Space"},"sidebar":"tutorialSidebar","previous":{"title":"Hammer Level Editor","permalink":"/EngineTools/HammerEditor/"},"next":{"title":"Getting Started","permalink":"/EngineTools/HammerEditor/getting-started"}}');var a=i(74848),s=i(28453);const o={description:"How to use lightmap player space volumes.",title:"Using Lightmap Player Space"},n=void 0,r={},p=[{value:"Creating lightmap player space volumes",id:"creating-lightmap-player-space-volumes",level:2},{value:"Viewing luxel density",id:"viewing-luxel-density",level:2}];function c(e){const t={admonition:"admonition",code:"code",h2:"h2",img:"img",p:"p",...(0,s.R)(),...e.components},{Game:l}=t;return l||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Game",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"This guide explains how lightmap player space volumes help improve the lighting quality in your map, and how to place them."}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsx)(t.p,{children:"The lightmap is a single big texture which contains pre-calculated lighting for all the static surfaces in the level."})}),"\n",(0,a.jsxs)(t.p,{children:["Placing lightmap player space volumes is a very important lighting optimisation step in Source2 branches which mainly rely on lightmapping for level lighting, such as ",(0,a.jsx)(l,{name:"cs2"})," and ",(0,a.jsx)(l,{name:"hla"})]}),"\n",(0,a.jsx)(t.p,{children:"Correct placement of these volumes will cause the lightmapper to automatically assign the highest light resolution to surfaces that the player will actually see up close, and less resolution to distant scenery outside of the map,\nyour map will still compile without these, but lighting will be sub-optimal as indicated by this compile warning:"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"lightmap player space missing error",src:i(53612).A+"",title:"Lightmap player space missing error",width:"1073",height:"152"})}),"\n",(0,a.jsx)(t.h2,{id:"creating-lightmap-player-space-volumes",children:"Creating lightmap player space volumes"}),"\n",(0,a.jsxs)(t.p,{children:["To create these simply use the Block tool to make the meshes, make sure to apply the ",(0,a.jsx)(t.code,{children:"materials/tools/toolslightmapres.vmat"})," material, this is what actually makes the engine count them as lightmap player space volumes!"]}),"\n",(0,a.jsx)(t.p,{children:"They should fill every space in your level where the player is expected to be, placement example:"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"lightmap player space placement example",src:i(94267).A+"",title:"Lightmap player space placement example",width:"1382",height:"831"})}),"\n",(0,a.jsx)(t.p,{children:"Starting from the surface of the volume lightmap resolution will slowly decrease, as such you should try to be somewhat accurate with your placement, as a rule of thumb surfaces that the player can view up close should never be further than 16 units away from the surface of a volume."}),"\n",(0,a.jsx)(t.h2,{id:"viewing-luxel-density",children:"Viewing luxel density"}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsxs)(t.p,{children:["You can view the lightmap resolution by clicking the ",(0,a.jsx)(t.code,{children:"Show Lightmap Res/Luxels"})," button in the convar helper section of the console, or by using the ",(0,a.jsx)(t.code,{children:"mat_luxels 1"})," command"]})}),"\n",(0,a.jsx)(t.p,{children:"Below is an example of how the lightmap player space volume will affect the luxel density in the compiled level, notice how the resolution gets lower further away from the volume, from left to right."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"lightmap player space compiled example",src:i(54653).A+"",title:"Lightmap player space compiled example",width:"1867",height:"813"})}),"\n",(0,a.jsx)(t.p,{children:"This might seem subtle, but in a full level it adds up, unless your level is very simple or small, you should never ship a production level without lightmap player space volumes!"})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},94267:(e,t,i)=>{i.d(t,{A:()=>l});const l=i.p+"assets/images/placementExample-4acff39b7488d6acb372aa9efe7152e3.gif"}}]);