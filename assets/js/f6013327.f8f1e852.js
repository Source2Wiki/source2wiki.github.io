"use strict";(globalThis.webpackChunksource_2_wiki=globalThis.webpackChunksource_2_wiki||[]).push([[90041],{3122:(i,e,t)=>{t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"EngineTools/HammerEditor/visibility","title":"Visibility","description":"Also known as \\"VIS\\", visibility is a vital part of map optimization as it determines what should and shouldn\'t be rendered.","source":"@site/docs/EngineTools/HammerEditor/visibility.md","sourceDirName":"EngineTools/HammerEditor","slug":"/EngineTools/HammerEditor/visibility","permalink":"/EngineTools/HammerEditor/visibility","draft":false,"unlisted":false,"editUrl":"https://github.com/Source2Wiki/Source2Wiki/blob/master/docs/EngineTools/HammerEditor/visibility.md?plain=1","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Level Design","permalink":"/EngineTools/HammerEditor/level-design"},"next":{"title":"Material Editor","permalink":"/EngineTools/MaterialEditor/"}}');var s=t(74848),o=t(28453);const l={},r="Visibility",a={},d=[{value:"Leaks",id:"leaks",level:2},{value:"VIS Contributors",id:"vis-contributors",level:2},{value:"Tool textures that contribute to VIS",id:"tool-textures-that-contribute-to-vis",level:3},{value:"Debugging VIS",id:"debugging-vis",level:2},{value:"VIS in Hammer",id:"vis-in-hammer",level:2}];function c(i){const e={admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",ul:"ul",...(0,o.R)(),...i.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"visibility",children:"Visibility"})}),"\n",(0,s.jsx)(e.p,{children:'Also known as "VIS", visibility is a vital part of map optimization as it determines what should and shouldn\'t be rendered.'}),"\n",(0,s.jsx)(e.admonition,{type:"note",children:(0,s.jsx)(e.p,{children:'Precomputed visibility costs map compile time. For rapid iteration and development, you can turn off VIS compilation by setting the "Precomputed Visibility" property in "Map Properties" to "Disabled."'})}),"\n",(0,s.jsx)(e.p,{children:"In Source 2, the resource compiler uses an inside/outside algorithm to calculate VIS and determine what's \"inside\" the map. This means that anything inside will render, and anything outside won't."}),"\n",(0,s.jsx)(e.h2,{id:"leaks",children:"Leaks"}),"\n",(0,s.jsx)(e.p,{children:'Although Source 2 doesn\'t leak in the same way that Source 1 did, VIS can still leak through "holes" in your map. This means that the VIS calculation will spill out into the void, creating unnecessary VIS clusters and LOS. Typically, this means forgetting to place a skybox material or solid blocklight, leaving a gap in world geometry.'}),"\n",(0,s.jsx)(e.h2,{id:"vis-contributors",children:"VIS Contributors"}),"\n",(0,s.jsx)(e.p,{children:'By default, all meshes are VIS contributors, which can be disabled by selecting "Exclude from VIS". Static props are the inverse, and you can set them as VIS contributors by marking the "Vis Occluder" property.'}),"\n",(0,s.jsx)(e.h3,{id:"tool-textures-that-contribute-to-vis",children:"Tool textures that contribute to VIS"}),"\n",(0,s.jsx)(e.p,{children:"Some tools materials contribute to your map's VIS. These include:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"visblocker"}),"\n",(0,s.jsx)(e.li,{children:"toolsskybox"}),"\n",(0,s.jsx)(e.li,{children:"toolsnodraw (all variations)"}),"\n",(0,s.jsx)(e.li,{children:"toolssolidblocklight"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"debugging-vis",children:"Debugging VIS"}),"\n",(0,s.jsx)(e.p,{children:"There are a few console commands that can help debug the compiled VIS in your map."}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"vis_enable 0/1\t\t|\t\tToggle the visibility system."}),"\n",(0,s.jsx)(e.li,{children:'vis_debug_show\t\t|\t\tThis will show the compiled VIS clusters in your map; it\'s an in-game representation of "Load Compiled Vis Data" in Hammer'}),"\n",(0,s.jsx)(e.li,{children:"vis_debug_lock\t\t|\t\tLocks the VIS to the current state when you sent the command."}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"vis-in-hammer",children:"VIS in Hammer"}),"\n",(0,s.jsx)(e.p,{children:'Use the Visibility contributors view to toggle geometry that doesn\'t contribute to VIS. This view is very helpful for spotting leaks, alongside the "Load Compiled Vis Data" option.'}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{alt:"visibility-contributors-view",src:t(47628).A+"",title:"Visibility Contributors View",width:"316",height:"173"})}),"\n",(0,s.jsx)(e.admonition,{type:"todo",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Best practices/common mistakes"}),"\n",(0,s.jsx)(e.li,{children:"note any disparity between VIS2 and VIS3"}),"\n",(0,s.jsx)(e.li,{children:"add accompanying pictures."}),"\n",(0,s.jsx)(e.li,{children:"VIS entities like visibility_hint and info_cull_triangles"}),"\n"]})})]})}function h(i={}){const{wrapper:e}={...(0,o.R)(),...i.components};return e?(0,s.jsx)(e,{...i,children:(0,s.jsx)(c,{...i})}):c(i)}},28453:(i,e,t)=>{t.d(e,{R:()=>l,x:()=>r});var n=t(96540);const s={},o=n.createContext(s);function l(i){const e=n.useContext(o);return n.useMemo(function(){return"function"==typeof i?i(e):{...e,...i}},[e,i])}function r(i){let e;return e=i.disableParentContext?"function"==typeof i.components?i.components(s):i.components||s:l(i.components),n.createElement(o.Provider,{value:e},i.children)}},47628:(i,e,t)=>{t.d(e,{A:()=>n});const n=t.p+"assets/images/vis_contrib_view-262d7701f07ad12c6d44d4bbfc269f35.png"}}]);